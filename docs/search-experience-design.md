# ç´ ææœç´¢ä½“éªŒè®¾è®¡

> åˆ›å»ºæ—¥æœŸ: 2026-02-17
> çŠ¶æ€: è®¾è®¡é˜¶æ®µ
> ç›®æ ‡: æä¾›è¶…è¶Šæ–‡ä»¶åçš„å¤šç»´åº¦æ™ºèƒ½æœç´¢ä½“éªŒ

## 1. æœç´¢è¾“å…¥æ¡†äº¤äº’

### 1.1 é»˜è®¤çŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æœç´¢ç´ æ...                                    [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çƒ­é—¨: æµ·æŠ¥  LOGO  èƒŒæ™¯  å›¾æ ‡                           â”‚
â”‚                                                         â”‚
â”‚  æœ€è¿‘æœç´¢:                                              â”‚
â”‚  ğŸ“· è“è‰²èƒŒæ™¯.jpg    ğŸ¨ æµ·æŠ¥è®¾è®¡.psd    ğŸ“„ åˆåŒæ¨¡æ¿.pdf  â”‚
â”‚                                                         â”‚
â”‚  å¿«æ·ç­›é€‰:                                              â”‚
â”‚  [ä»Šå¤©] [æœ¬å‘¨] [å›¾ç‰‡] [è§†é¢‘] [å¤§æ–‡ä»¶] [å·²è¯„åˆ†]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 è¾“å…¥çŠ¶æ€

```
è¾“å…¥: "è“"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” è“è‰²èƒŒæ™¯                          â”‚  â† æ–‡ä»¶ååŒ¹é…
â”‚ ğŸ·ï¸ #è“è‰²                            â”‚  â† æ ‡ç­¾åŒ¹é…
â”‚ ğŸ¨ é¢œè‰²: è“è‰²ç³»                      â”‚  â† é¢œè‰²æœç´¢
â”‚ ğŸ“ è“å¤©ç™½äº‘.jpg                      â”‚  â† æ–‡ä»¶ååŒ¹é…
â”‚ ğŸ“ è“è‰²æ¸å˜èƒŒæ™¯.png                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ä»¥å›¾æœå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æ‹–å…¥å›¾ç‰‡æˆ–ç²˜è´´æœç´¢...             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  ğŸ“·     â”‚  [é€‰æ‹©æ–‡ä»¶]         â”‚
â”‚     â”‚  æˆ–ç²˜è´´  â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                     â”‚
â”‚  ç›¸ä¼¼åº¦: [é«˜] [ä¸­] [ä½]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. å¤šç»´åº¦æœç´¢èƒ½åŠ›

| ç»´åº¦ | ç¤ºä¾‹ | å®ç°æ–¹å¼ | ä¼˜å…ˆçº§ |
|------|------|----------|--------|
| **æ–‡ä»¶å** | `æµ·æŠ¥` | FTS å…¨æ–‡æœç´¢ | P0 |
| **æ–‡ä»¶ç±»å‹** | `type:jpg` æˆ–ç‚¹å‡»ç­›é€‰ | ç´¢å¼•å­—æ®µ | P0 |
| **æ ‡ç­¾** | `#è®¾è®¡ #ç´ æ` | æ ‡ç­¾å…³è”è¡¨ | P1 |
| **é¢œè‰²** | `color:è“è‰²` | å›¾ç‰‡ä¸»è‰²æå– | P2 |
| **å°ºå¯¸** | `size:4k` æˆ– `width:>1920` | å…ƒæ•°æ®å­—æ®µ | P1 |
| **æ—¶é—´** | `date:æœ¬å‘¨` æˆ– `after:2024-01` | æ—¶é—´ç´¢å¼• | P0 |
| **è¯„åˆ†** | `rating:5` æˆ– `rating:>=3` | è¯„åˆ†å­—æ®µ | P1 |
| **é¡¹ç›®** | `project:å®˜ç½‘æ”¹ç‰ˆ` | é¡¹ç›®å…³è” | P2 |
| **ç›¸ä¼¼å›¾** | æ‹–å…¥å›¾ç‰‡æœç´¢ | æ„ŸçŸ¥å“ˆå¸Œ/ç‰¹å¾å‘é‡ | P3 |

## 3. æœç´¢è¯­æ³•è®¾è®¡

### 3.1 åŸºç¡€è¯­æ³•

```
æµ·æŠ¥ type:jpg size:>1MB rating:>=4 date:æœ¬æœˆ
```

è§£æä¸ºï¼š

```json
{
  "query": "æµ·æŠ¥",
  "type": "jpg",
  "sizeMin": 1048576,
  "ratingMin": 4,
  "dateRange": "month"
}
```

### 3.2 æ”¯æŒçš„æ“ä½œç¬¦

| æ“ä½œç¬¦ | ç¤ºä¾‹ | è¯´æ˜ |
|--------|------|------|
| `:` | `type:jpg` | ç²¾ç¡®åŒ¹é… |
| `:>` | `size:>1MB` | å¤§äº |
| `:<` | `size:<10MB` | å°äº |
| `:>=` | `rating:>=3` | å¤§äºç­‰äº |
| `:<=` | `width:<=1920` | å°äºç­‰äº |
| `..` | `size:1MB..10MB` | èŒƒå›´ |

### 3.3 å¿«æ·æ—¶é—´è¡¨è¾¾å¼

| è¡¨è¾¾å¼ | å«ä¹‰ |
|--------|------|
| `date:ä»Šå¤©` | ä»Šæ—¥ |
| `date:æ˜¨å¤©` | æ˜¨æ—¥ |
| `date:æœ¬å‘¨` | æœ¬å‘¨ä¸€è‡³ä»Š |
| `date:æœ¬æœˆ` | æœ¬æœˆ1æ—¥è‡³ä»Š |
| `date:æœ¬å¹´` | ä»Šå¹´1æœˆ1æ—¥è‡³ä»Š |
| `after:2024-01` | 2024å¹´1æœˆä¹‹å |
| `before:2024-06` | 2024å¹´6æœˆä¹‹å‰ |

### 3.4 å¿«æ·å°ºå¯¸è¡¨è¾¾å¼

| è¡¨è¾¾å¼ | å«ä¹‰ |
|--------|------|
| `size:4k` | å®½åº¦ â‰¥ 3840 |
| `size:2k` | å®½åº¦ â‰¥ 2560 |
| `size:1080p` | å®½åº¦ â‰¥ 1920 |
| `size:720p` | å®½åº¦ â‰¥ 1280 |
| `size:small` | å®½åº¦ < 640 |

### 3.5 æ–‡ä»¶å¤§å°è¡¨è¾¾å¼

| è¡¨è¾¾å¼ | å«ä¹‰ |
|--------|------|
| `size:tiny` | < 100KB |
| `size:small` | 100KB - 1MB |
| `size:medium` | 1MB - 10MB |
| `size:large` | 10MB - 100MB |
| `size:huge` | > 100MB |

## 4. æœç´¢ç»“æœå±•ç¤º

### 4.1 ç»“æœå¤´éƒ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœç´¢ "æµ·æŠ¥" æ‰¾åˆ° 128 ä¸ªç»“æœ                    è€—æ—¶ 12ms â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç­›é€‰: [å…¨éƒ¨] [å›¾ç‰‡ 98] [è§†é¢‘ 12] [æ–‡æ¡£ 18]              â”‚
â”‚ æ’åº: [ç›¸å…³åº¦ â–¼] [æ—¶é—´] [å¤§å°] [è¯„åˆ†]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 èšåˆç»Ÿè®¡ (Facets)

```json
{
  "types": {
    "jpg": 45,
    "png": 32,
    "psd": 21
  },
  "years": {
    "2024": 58,
    "2023": 42,
    "2022": 28
  },
  "sizes": {
    "<1MB": 30,
    "1-10MB": 68,
    ">10MB": 30
  },
  "colors": {
    "è“è‰²ç³»": 25,
    "çº¢è‰²ç³»": 18,
    "ç»¿è‰²ç³»": 12
  }
}
```

## 5. æœç´¢å†å²

### 5.1 å­˜å‚¨ç»“æ„

```typescript
interface SearchHistory {
  id: string
  query: string           // åŸå§‹æœç´¢è¯
  filters: FilterState    // ç­›é€‰æ¡ä»¶
  resultCount: number     // ç»“æœæ•°é‡
  timestamp: number       // æœç´¢æ—¶é—´
  type: 'text' | 'image'  // æœç´¢ç±»å‹
}
```

### 5.2 å†å²å±•ç¤º

- æœ€è¿‘ 10 æ¡æœç´¢è®°å½•
- ç‚¹å‡»å¯å¿«é€Ÿå¤ç°æœç´¢
- æ”¯æŒåˆ é™¤å•æ¡æˆ–æ¸…ç©ºå†å²

## 6. æ™ºèƒ½å»ºè®®

### 6.1 å»ºè®®æ¥æº

1. **æ–‡ä»¶ååŒ¹é…** - åŸºäºå‰ç¼€åŒ¹é…
2. **æ ‡ç­¾åŒ¹é…** - åŸºäºæ ‡ç­¾åº“
3. **é¢œè‰²åŒ¹é…** - åŸºäºå›¾ç‰‡ä¸»è‰²åº“
4. **å†å²åŒ¹é…** - åŸºäºæœç´¢å†å²

### 6.2 å»ºè®®ä¼˜å…ˆçº§

1. ç²¾ç¡®å‰ç¼€åŒ¹é… (æƒé‡æœ€é«˜)
2. æœç´¢å†å²
3. æ ‡ç­¾åŒ¹é…
4. æ¨¡ç³ŠåŒ¹é…

## 7. ä»¥å›¾æœå›¾è®¾è®¡

### 7.1 è¾“å…¥æ–¹å¼

- æ‹–æ‹½å›¾ç‰‡åˆ°æœç´¢æ¡†
- ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡ (Ctrl/Cmd + V)
- ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
- é€‰æ‹©å·²æœ‰ç´ æ

### 7.2 ç›¸ä¼¼åº¦ç®—æ³•

| ç®—æ³• | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|------|----------|------|
| **æ„ŸçŸ¥å“ˆå¸Œ (pHash)** | å¿«é€Ÿç²—ç­› | é€Ÿåº¦å¿«ï¼Œé€‚åˆæ‰¾ç›¸åŒ/ç›¸ä¼¼å›¾ |
| **ç‰¹å¾å‘é‡ (CNN)** | ç²¾ç¡®ç›¸ä¼¼ | æ›´æ™ºèƒ½ï¼Œé€‚åˆæ‰¾é£æ ¼ç›¸ä¼¼ |
| **é¢œè‰²ç›´æ–¹å›¾** | é¢œè‰²ç›¸ä¼¼ | é€‚åˆæ‰¾è‰²è°ƒç›¸ä¼¼ |

### 7.3 ç›¸ä¼¼åº¦é˜ˆå€¼

| çº§åˆ« | pHash é˜ˆå€¼ | è¯´æ˜ |
|------|------------|------|
| é«˜ | â‰¥ 90% | å‡ ä¹ç›¸åŒ |
| ä¸­ | â‰¥ 70% | æ˜æ˜¾ç›¸ä¼¼ |
| ä½ | â‰¥ 50% | å¯èƒ½æœ‰ç›¸ä¼¼ç‚¹ |

## 8. åç«¯å®ç°è¦ç‚¹

### 8.1 æ•°æ®åº“æ‰©å±•

```go
type Asset struct {
    // ... ç°æœ‰å­—æ®µ ...
    
    // æ–°å¢ç´¢å¼•å­—æ®µ
    FileName    string `bun:",index" json:"file_name"`
    Ext         string `bun:",index" json:"ext"`
    Width       int    `bun:"width" json:"width"`
    Height      int    `bun:"height" json:"height"`
    Duration    int    `bun:"duration" json:"duration"`
    AspectRatio string `bun:"aspect_ratio" json:"aspect_ratio"`
    
    // é¢œè‰²ç‰¹å¾
    DominantColor string `bun:"dominant_color" json:"dominant_color"`
    ColorPalette  string `bun:"color_palette" json:"color_palette"` // JSON
    
    // æ„ŸçŸ¥å“ˆå¸Œ
    PerceptualHash string `bun:"perceptual_hash" json:"perceptual_hash"`
}
```

### 8.2 FTS5 å…¨æ–‡ç´¢å¼•

```sql
CREATE VIRTUAL TABLE assets_fts USING fts5(
    id UNINDEXED,
    file_name,
    path,
    content='assets',
    content_rowid='rowid',
    tokenize='unicode61'
);
```

### 8.3 æœç´¢ API

```go
type SearchRequest struct {
    Query       string   `json:"query"`
    Types       []string `json:"types"`
    TimeRange   string   `json:"time_range"`
    DateStart   *int64   `json:"date_start"`
    DateEnd     *int64   `json:"date_end"`
    WidthMin    *int     `json:"width_min"`
    WidthMax    *int     `json:"width_max"`
    HeightMin   *int     `json:"height_min"`
    HeightMax   *int     `json:"height_max"`
    AspectRatio string   `json:"aspect_ratio"`
    SizeMin     *int64   `json:"size_min"`
    SizeMax     *int64   `json:"size_max"`
    Color       string   `json:"color"`
    RatingMin   *int     `json:"rating_min"`
    Tags        []string `json:"tags"`
    ProjectID   string   `json:"project_id"`
    ImageHash   string   `json:"image_hash"`  // ä»¥å›¾æœå›¾
    SortBy      string   `json:"sort_by"`
    SortDir     string   `json:"sort_dir"`
    Offset      int      `json:"offset"`
    Limit       int      `json:"limit"`
}

type SearchResult struct {
    Items      []Asset `json:"items"`
    Total      int     `json:"total"`
    Facets     Facets  `json:"facets"`
    TookMs     int     `json:"took_ms"`
}
```

## 9. å®ç°ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | åŠŸèƒ½ | ç†ç”± | é¢„è®¡å·¥ä½œé‡ |
|--------|------|------|------------|
| P0 | æ–‡ä»¶åæœç´¢ + ç­›é€‰å™¨è”åŠ¨ | åŸºç¡€èƒ½åŠ› | 2å¤© |
| P0 | æœç´¢è¯­æ³•è§£æ | é«˜çº§ç”¨æˆ·æ•ˆç‡æå‡ | 1å¤© |
| P1 | æœç´¢å†å² | ç”¨æˆ·ä¹ æƒ¯ | 0.5å¤© |
| P1 | æ ‡ç­¾æœç´¢ | å·²æœ‰æ ‡ç­¾ç³»ç»Ÿ | 1å¤© |
| P1 | å°ºå¯¸/å¤§å°ç­›é€‰ | è®¾è®¡å¸ˆé«˜é¢‘éœ€æ±‚ | 1å¤© |
| P2 | é¢œè‰²æœç´¢ | è®¾è®¡å¸ˆé«˜é¢‘éœ€æ±‚ | 2å¤© |
| P2 | æ™ºèƒ½å»ºè®® | æå‡æœç´¢æ•ˆç‡ | 1å¤© |
| P3 | ä»¥å›¾æœå›¾ | éœ€è¦ç‰¹å¾æå– | 3å¤© |

## 10. åç»­ä¼˜åŒ–æ–¹å‘

1. **æœç´¢æ€§èƒ½ä¼˜åŒ–**
   - ç»“æœç¼“å­˜
   - åˆ†é¡µæ‡’åŠ è½½
   - å¢é‡æœç´¢

2. **æœç´¢ä½“éªŒä¼˜åŒ–**
   - æœç´¢ç»“æœé«˜äº®
   - æ‹¼å†™çº é”™
   - åŒä¹‰è¯æ‰©å±•

3. **AI å¢å¼º**
   - è‡ªç„¶è¯­è¨€æœç´¢ ("æ‰¾ä¸€å¼ è“è‰²èƒŒæ™¯çš„æµ·æŠ¥")
   - æ™ºèƒ½æ ‡ç­¾æ¨è
   - å†…å®¹ç†è§£æœç´¢

---

## å˜æ›´è®°å½•

| æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|----------|
| 2026-02-17 | åˆç‰ˆè®¾è®¡æ–‡æ¡£åˆ›å»º |
